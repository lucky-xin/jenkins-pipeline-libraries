template:
  namespace: "pistonint-cloud"
  service:
    ports:
      - name: http-port
        containerPort: 21080
  publish:
    ingressClassName: ""
    site: ""
  replicas: 1
  revisionHistoryLimit: 3
  resources:
    limits:
      cpu: 100m
      memory: 50Mi
    requests:
      cpu: 100m
      memory: 50Mi
  envFrom:
    - configMapRef:
        name: spring-boot-config
    - secretRef:
        name: spring-boot-secret
  env:
    - name: REDIS_HOST
      valueFrom:
        configMapKeyRef:
          name: pistonint-helloworld-special-config
          key: special.how
    - name: SPECIAL_TYPE_KEY
      valueFrom:
        configMapKeyRef:
          name: special-config
          key: special.type
    - name: SECRET_USERNAME
      valueFrom:
        secretKeyRef:
          name: mysecret
          key: username
    - name: REDIS_PASSWORD
      valueFrom:
        secretKeyRef:
          name: mysecret
          key: password
  livenessProbe:
    httpGet:
      path: /actuator/health
      port: http-port
    initialDelaySeconds: 30
    timeoutSeconds: 5
    periodSeconds: 30
    successThreshold: 1
    failureThreshold: 5
  readinessProbe:
    httpGet:
      path: /actuator/health
      port: http-port
    initialDelaySeconds: 30
    timeoutSeconds: 5
    periodSeconds: 10
    successThreshold: 1
    failureThreshold: 5
# template end
pistonint-helloworld:
  title: "样例"
  deploy_environment:

    dev:
      service:
        ports:
          - name: http-port
            containerPort: 21081

    pre:
      namespace: "pistonint-cloud"
      service:
        ports:
          - name: http-port
            containerPort: 21082
      publish:
        ingressClassName: ""
        site: ""
      replicas: 1
      revisionHistoryLimit: 3
      resources:
        limits:
          cpu: 101m
          memory: 51Mi
        requests:
          cpu: 101m
          memory: 51Mi
      envFrom:
        - configMapRef:
            name: spring-boot-config
        - secretRef:
            name: spring-boot-secret
      env:
        - name: REDIS_HOST
          valueFrom:
            configMapKeyRef:
              name: pistonint-helloworld-special-config
              key: special.how
        - name: SPECIAL_TYPE_KEY
          valueFrom:
            configMapKeyRef:
              name: special-config
              key: special.type
        - name: SECRET_USERNAME
          valueFrom:
            secretKeyRef:
              name: mysecret
              key: username
        - name: REDIS_PASSWORD
          valueFrom:
            secretKeyRef:
              name: mysecret
              key: password


    prod:

pistonint-api:
  title: "pistonint-api"
  deploy_environment:
    dev:
      env:
        - name: REDIS_HOST
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_HOST
        - name: REDIS_PORT
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_PORT
        - name: REDIS_PWD
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: REDIS_PWD
        - name: REDIS_PWD
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: REDIS_PWD
        - name: MONGO_PWD
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MONGO_PWD_API
        - name: MONGO_USER
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MONGO_USER_API
        - name: MONGO_DB_API
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MONGO_DB_API
        - name: MONGO_AUTH_SOURCE
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MONGO_AUTH_SOURCE_API
        - name: MONGO_URI
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: MONGO_URI
        - name: CHANGE_STREAM_ENABLE
          value: "false"
        - name: ALIYUN_MARKET_GATEWAY_LIST
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: ALIYUN_MARKET_GATEWAY_LIST
        - name: HEAP_SIZE
          value: "1024M"


    pre:
      env:
        - name: REDIS_HOST
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_HOST
        - name: REDIS_PORT
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_PORT
        - name: REDIS_PWD
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: REDIS_PWD
        - name: MONGO_USER
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MONGO_USER_API
        - name: MONGO_PWD
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MONGO_PWD_API
        - name: MONGO_DB_API
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MONGO_DB_API
        - name: MONGO_AUTH_SOURCE
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MONGO_AUTH_SOURCE_API
        - name: MONGO_URI
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: MONGO_URI
        - name: MONGO_AUTH_SOURCE
          value: ""
        - name: CHANGE_STREAM_ENABLE
          value: "false"
        - name: ALIYUN_MARKET_GATEWAY_LIST
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: ALIYUN_MARKET_GATEWAY_LIST
        - name: HEAP_SIZE
          value: "1024M"
    prod:

pistonint-app:
  title: "pistonint-app"
  deploy_environment:
    dev:
      publish: "true"
      site: "dev.pistonint.com"
      annotations:
        ssl-redirect: "true"
        proxy-connect-timeout: "600" #修改代理超时时间，默认是60s
        proxy-read-timeout: "600"
        proxy-send-timeout: "600"
      env:
        - name: REDIS_HOST
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_HOST
        - name: REDIS_PORT
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_PORT
        - name: REDIS_PWD
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: REDIS_PWD
        - name: MONGO_PWD
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MONGO_PWD_APP
        - name: MONGO_USER
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MONGO_USER_APP
        - name: MONGO_DB_APP
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MONGO_DB_APP
        - name: MONGO_AUTH_SOURCE
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MONGO_AUTH_SOURCE_APP
        - name: MONGO_URI
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: MONGO_URI
    pre:
      publish: "true"
      env:
        - name: REDIS_HOST
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_HOST
        - name: REDIS_PORT
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_PORT
        - name: REDIS_PWD
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: REDIS_PWD
        - name: MONGO_PWD
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MONGO_PWD_APP
        - name: MONGO_USER
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MONGO_USER_APP
        - name: MONGO_DB_APP
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MONGO_DB_APP
        - name: MONGO_AUTH_SOURCE
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MONGO_AUTH_SOURCE_APP
        - name: MONGO_URI
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: MONGO_URI
        - name: MONGO_AUTH_SOURCE
          value: ""
    prod:
pistonint-auth:
  title: "pistonint-auth"
  deploy_environment:
    dev:
      resources:
        requests:
          memory: 2048Mi
          cpu: 500m
        limits:
          memory: 2Gi
          cpu: 1000m
      env:
        - name: HEAP_SIZE
          value: 2048M
        - name: REDIS_HOST
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_HOST
        - name: REDIS_PORT
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_PORT
        - name: MYSQL_URL
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: MYSQL_URL_AUTH
        - name: MYSQL_DB
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MYSQL_DB_AUTH
        - name: REDIS_PWD
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: REDIS_PWD
        - name: MYSQL_USER
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MYSQL_USER_AUTH
        - name: MYSQL_PWD
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MYSQL_PWD_AUTH

    pre:
      env:
        - name: REDIS_HOST
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_HOST
        - name: REDIS_PORT
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_PORT
        - name: MYSQL_URL
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: MYSQL_URL_AUTH
        - name: MYSQL_DB
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MYSQL_DB_AUTH
        - name: REDIS_PWD
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: REDIS_PWD
        - name: MYSQL_USER
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MYSQL_USER_AUTH
        - name: MYSQL_PWD
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MYSQL_PWD_AUTH
    prod:

pistonint-auto:
  title: "pistonint-auto"
  deploy_environment:
    dev:
      publish: "true"
      site: "dev.pistonint.com"
      annotations:
        ssl-redirect: "true"
        proxy-connect-timeout: "600" #修改代理超时时间，默认是60s
        proxy-read-timeout: "600"
        proxy-send-timeout: "600"
    pre:
      publish: "true"

    prod:
pistonint-automated:
  title: "pistonint-automated"
  deploy_environment:
    dev:
      publish: "true"
      site: "dev.pistonint.com"
      annotations:
        ssl-redirect: "true"
        proxy-connect-timeout: "600" #修改代理超时时间，默认是60s
        proxy-read-timeout: "600"
        proxy-send-timeout: "600"
    pre:
      publish: "true"

    prod:
pistonint-car-data:
  title: "pistonint-car-data"
  deploy_environment:
    dev:
      resources:
        requests:
          memory: 2048Mi
          cpu: 500m
        limits:
          memory: 2Gi
          cpu: 1000m
      env:
        - name: HEAP_SIZE
          value: 2048M
        - name: REDIS_HOST
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_HOST
        - name: REDIS_PORT
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_PORT
        - name: REDIS_PWD
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: REDIS_PWD
        - name: HTTP_AI_MATCH_SVC_ENDPOINT
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: ALGO-TRIMMAP
        - name: HTTP_EVALUATION_SVC_ENDPOINT
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: ALGO-RV-VALUATION
        - name: HTTP_FORECAST_SVC_ENDPOINT
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: ALGO-RV-FORECAST
        - name: MONGO_USER_MASTER
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MONGO_USER_MASTER_CAR_DATA
        - name: MONGO_PWD_MASTER
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MONGO_PWD_MASTER_CAR_DATA
        - name: MONGO_DB_MASTER
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MONGO_DB_MASTER_CAR_DATA
        - name: AUTH_SOURCE_MASTER
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MONGO_AUTH_SOURCE_MASTER_CAR_DATA
        - name: MONGO_USER_TARGET
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MONGO_USER_TARGET_CAR_DATA
        - name: MONGO_PWD_TARGET
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MONGO_PWD_TARGET_CAR_DATA
        - name: MONGO_DB_TARGET
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MONGO_DB_TARGET_CAR_DATA
        - name: AUTH_SOURCE_TARGET
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MONGO_AUTH_SOURCE_TARGET_CAR_DATA
        - name: MONGO_USER_API
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MONGO_USER_API
        - name: MONGO_PWD_API
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MONGO_PWD_API
        - name: MONGO_DB_API
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MONGO_DB_API
        - name: AUTH_SOURCE_API
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MONGO_AUTH_SOURCE_API
        - name: MONGO_URI
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: MONGO_URI
        - name: HTTP_FILE_SVC_ENDPOINT
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: HTTP_FILE_SVC_ENDPOINT
        - name: CHANGE_STREAM_ENABLE
          value: "false"
    pre:
      env:
        - name: REDIS_HOST
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_HOST
        - name: REDIS_PORT
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_PORT
        - name: REDIS_PWD
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: REDIS_PWD
        - name: HTTP_AI_MATCH_SVC_ENDPOINT
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: ALGO-TRIMMAP
        - name: HTTP_EVALUATION_SVC_ENDPOINT
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: ALGO-RV-VALUATION
        - name: HTTP_FORECAST_SVC_ENDPOINT
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: ALGO-RV-FORECAST
        - name: MONGO_USER_MASTER
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MONGO_USER_MASTER_CAR_DATA
        - name: MONGO_PWD_MASTER
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MONGO_PWD_MASTER_CAR_DATA
        - name: MONGO_DB_MASTER
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MONGO_DB_MASTER_CAR_DATA
        - name: AUTH_SOURCE_MASTER
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MONGO_AUTH_SOURCE_MASTER_CAR_DATA
        - name: MONGO_USER_TARGET
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MONGO_USER_TARGET_CAR_DATA
        - name: MONGO_PWD_TARGET
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MONGO_PWD_TARGET_CAR_DATA
        - name: MONGO_DB_TARGET
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MONGO_DB_TARGET_CAR_DATA
        - name: AUTH_SOURCE_TARGET
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MONGO_AUTH_SOURCE_TARGET_CAR_DATA
        - name: MONGO_USER_API
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MONGO_USER_API
        - name: MONGO_PWD_API
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MONGO_PWD_API
        - name: MONGO_DB_API
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MONGO_DB_API
        - name: AUTH_SOURCE_API
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MONGO_AUTH_SOURCE_API
        - name: MONGO_URI
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: MONGO_URI
        - name: HTTP_FILE_SVC_ENDPOINT
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: HTTP_FILE_SVC_ENDPOINT
        - name: CHANGE_STREAM_ENABLE
          value: "true"
    prod:

pistonint-customer-mgmt:
  title: "pistonint-customer-mgmt"
  deploy_environment:
    dev:
      env:
        - name: REDIS_HOST
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_HOST
        - name: REDIS_PORT
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_PORT
        - name: REDIS_PWD
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: REDIS_PWD
        - name: MYSQL_URL
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: MYSQL_URL
        - name: MYSQL_DB
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MYSQL_DB_CUSTOMER_MGMT
        - name: MYSQL_USER
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MYSQL_USER_CUSTOMER_MGMT

        - name: MYSQL_PWD
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MYSQL_PWD_CUSTOMER_MGMT
    pre:
      env:
        - name: REDIS_HOST
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_HOST
        - name: REDIS_PORT
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_PORT
        - name: REDIS_PWD
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: REDIS_PWD
        - name: MYSQL_URL
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: MYSQL_URL
        - name: MYSQL_DB
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MYSQL_DB_CUSTOMER_MGMT
        - name: MYSQL_USER
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MYSQL_USER_CUSTOMER_MGMT
        - name: MYSQL_PWD
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MYSQL_PWD_CUSTOMER_MGMT

    prod:

pistonint-data-dictionary:
  title: "pistonint-data-dictionary"
  deploy_environment:
    dev:
      env:
        - name: REDIS_HOST
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_HOST
        - name: REDIS_PORT
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_PORT
        - name: REDIS_PWD
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: REDIS_PWD
        - name: MYSQL_URL
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: MYSQL_URL
        - name: MYSQL_DB
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MYSQL_DB_DATA_DICTIONARY
        - name: MYSQL_USER
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MYSQL_USER_DATA_DICTIONARY
        - name: MYSQL_PWD
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MYSQL_PWD_DATA_DICTIONARY
    pre:
      env:
        - name: REDIS_HOST
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_HOST
        - name: REDIS_PORT
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_PORT
        - name: REDIS_PWD
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: REDIS_PWD
        - name: MYSQL_URL
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: MYSQL_URL
        - name: MYSQL_DB
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MYSQL_DB_DATA_DICTIONARY
        - name: MYSQL_USER
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MYSQL_USER_DATA_DICTIONARY
        - name: MYSQL_PWD
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MYSQL_PWD_DATA_DICTIONARY

    prod:

pistonint-distributed-job:
  title: "pistonint-distributed-job"
  deploy_environment:
    dev:
      env:
        - name: REDIS_HOST
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_HOST
        - name: REDIS_PORT
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_PORT
        - name: REDIS_PWD
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: REDIS_PWD
        - name: MYSQL_URL
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: MYSQL_URL
        - name: MYSQL_DB
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MYSQL_DB_DISTRIBUTED_JOB
        - name: MYSQL_USER
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MYSQL_USER_DISTRIBUTED_JOB
        - name: MYSQL_PWD
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MYSQL_PWD_DISTRIBUTED_JOB
        - name: KAFKA_ENDPOINT
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: KAFKA_ENDPOINT
    pre:
      env:
        - name: REDIS_HOST
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_HOST
        - name: REDIS_PORT
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_PORT
        - name: REDIS_PWD
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: REDIS_PWD
        - name: MYSQL_URL
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: MYSQL_URL
        - name: MYSQL_DB
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MYSQL_DB_DISTRIBUTED_JOB
        - name: MYSQL_USER
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MYSQL_USER_DISTRIBUTED_JOB

        - name: MYSQL_PWD
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MYSQL_PWD_DISTRIBUTED_JOB
        - name: KAFKA_ENDPOINT
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: KAFKA_ENDPOINT

    prod:

pistonint-file:
  title: "pistonint-file"
  deploy_environment:
    dev:
      env:
        - name: REDIS_HOST
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_HOST

        - name: REDIS_PORT
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_PORT

        - name: REDIS_PWD
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: REDIS_PWD
    pre:
      env:
        - name: REDIS_HOST
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_HOST

        - name: REDIS_PORT
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_PORT

        - name: REDIS_PWD
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: REDIS_PWD

    prod:

pistonint-global-car-data:
  title: "pistonint-car-data"
  deploy_environment:
    dev:
      publish: "true"
      site: "dev.pistonint.com"
      annotations:
        ssl-redirect: "true"
        proxy-connect-timeout: "600" #修改代理超时时间，默认是60s
        proxy-read-timeout: "600"
        proxy-send-timeout: "600"
      env:
        - name: REDIS_HOST
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_HOST

        - name: REDIS_PORT
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_PORT

        - name: REDIS_PWD
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: REDIS_PWD
        - name: MONGO_USER_MASTER
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MONGO_USER_MASTER_GLOBAL_CAR_DATA
        - name: MONGO_PWD_MASTER
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MONGO_PWD_MASTER_GLOBAL_CAR_DATA
        - name: MONGO_DB_MASTER
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MONGO_DB_MASTER_GLOBAL_CAR_DATA
        - name: AUTH_SOURCE_MASTER
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MONGO_AUTH_SOURCE_MASTER_GLOBAL_CAR_DATA
        - name: MONGO_USER_TARGET
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MONGO_USER_TARGET_GLOBAL_CAR_DATA
        - name: MONGO_PWD_TARGET
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MONGO_PWD_TARGET_GLOBAL_CAR_DATA
        - name: MONGO_DB_TARGET
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MONGO_DB_TARGET_GLOBAL_CAR_DATA
        - name: AUTH_SOURCE_TARGET
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MONGO_AUTH_SOURCE_TARGET_GLOBAL_CAR_DATA
        - name: MONGO_URI
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: MONGO_URI
        - name: CHANGE_STREAM_ENABLE
          value: "false"
    pre:
      publish: "true"
      env:
        - name: REDIS_HOST
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_HOST

        - name: REDIS_PORT
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_PORT

        - name: REDIS_PWD
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: REDIS_PWD
        - name: MONGO_USER_MASTER
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MONGO_USER_MASTER_GLOBAL_CAR_DATA
        - name: MONGO_PWD_MASTER
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MONGO_PWD_MASTER_GLOBAL_CAR_DATA
        - name: MONGO_DB_MASTER
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MONGO_DB_MASTER_GLOBAL_CAR_DATA
        - name: AUTH_SOURCE_MASTER
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MONGO_AUTH_SOURCE_MASTER_GLOBAL_CAR_DATA
        - name: MONGO_USER_TARGET
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MONGO_USER_TARGET_GLOBAL_CAR_DATA
        - name: MONGO_PWD_TARGET
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MONGO_PWD_TARGET_GLOBAL_CAR_DATA
        - name: MONGO_DB_TARGET
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MONGO_DB_TARGET_GLOBAL_CAR_DATA
        - name: AUTH_SOURCE_TARGET
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MONGO_AUTH_SOURCE_TARGET_GLOBAL_CAR_DATA
        - name: MONGO_URI
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: MONGO_URI
        - name: CHANGE_STREAM_ENABLE
          value: "false"
    prod:

pistonint-global-car-data-monitor:
  title: "pistonint-global-car-data-monitor"
  deploy_environment:
    dev:
      publish: "true"
      site: "dev.pistonint.com"
      annotations:
        ssl-redirect: "true"
        proxy-connect-timeout: "600" #修改代理超时时间，默认是60s
        proxy-read-timeout: "600"
        proxy-send-timeout: "600"
      env:
        - name: REDIS_HOST
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_HOST

        - name: REDIS_PORT
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_PORT

        - name: REDIS_PWD
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: REDIS_PWD
        - name: MONGO_USER
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MONGO_USER_GLOBAL_CAR_DATA_MONITOR
        - name: MONGO_PWD
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MONGO_PWD_GLOBAL_CAR_DATA_MONITOR
        - name: MONGO_DB
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MONGO_DB_GLOBAL_CAR_DATA_MONITOR
        - name: MONGO_AUTH_SOURCE
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MONGO_AUTH_SOURCE_GLOBAL_CAR_DATA_MONITOR
        - name: MONGO_URI
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: MONGO_URI
        - name: CHANGE_STREAM_ENABLE
          value: "false"
    pre:
      publish: "true"
      env:
        - name: REDIS_HOST
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_HOST

        - name: REDIS_PORT
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_PORT

        - name: REDIS_PWD
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: REDIS_PWD
        - name: MONGO_USER
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MONGO_USER_GLOBAL_CAR_DATA_MONITOR
        - name: MONGO_PWD
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MONGO_PWD_GLOBAL_CAR_DATA_MONITOR
        - name: MONGO_DB
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MONGO_DB_GLOBAL_CAR_DATA_MONITOR
        - name: MONGO_AUTH_SOURCE
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MONGO_AUTH_SOURCE_GLOBAL_CAR_DATA_MONITOR
        - name: MONGO_URI
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: MONGO_URI
        - name: CHANGE_STREAM_ENABLE
          value: "false"

    prod:

pistonint-idata:
  title: "pistonint-idata"
  deploy_environment:
    dev:
      env:
        - name: HEAP_SIZE
          value: 2g
        - name: REDIS_HOST
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_HOST

        - name: REDIS_PORT
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_PORT
        - name: REDIS_PWD
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: REDIS_PWD
        - name: MYSQL_URL
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: MYSQL_URL
        - name: MYSQL_DB
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MYSQL_DB_IDATA
        - name: MYSQL_USER
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MYSQL_USER_IDATA
        - name: MYSQL_PWD
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MYSQL_PWD_IDATA
        - name: MONGO_USER
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MONGO_USER_IDATA
        - name: MONGO_PWD
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MONGO_PWD_IDATA
        - name: MONGO_DB
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MONGO_DB_IDATA
        - name: MONGO_AUTH_SOURCE
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MONGO_AUTH_SOURCE_IDATA
        - name: MONGO_URI
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: MONGO_URI
        - name: HTTP_FILE_SVC_ENDPOINT
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: HTTP_FILE_SVC_ENDPOINT
    pre:
      env:
        - name: REDIS_HOST
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_HOST

        - name: REDIS_PORT
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_PORT
        - name: REDIS_PWD
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: REDIS_PWD

        - name: MYSQL_URL
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: MYSQL_URL
        - name: MYSQL_DB
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MYSQL_DB_IDATA
        - name: MYSQL_USER
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MYSQL_USER_IDATA
        - name: MYSQL_PWD
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MYSQL_PWD_IDATA
        - name: MONGO_USER
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MONGO_USER_IDATA
        - name: MONGO_PWD
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MONGO_PWD_IDATA
        - name: MONGO_DB
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MONGO_DB_IDATA
        - name: MONGO_AUTH_SOURCE
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MONGO_AUTH_SOURCE_IDATA
        - name: MONGO_URI
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: MONGO_URI
        - name: HTTP_FILE_SVC_ENDPOINT
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: HTTP_FILE_SVC_ENDPOINT

    prod:

pistonint-jetour:
  title: "pistonint-jetour"
  deploy_environment:
    dev:
      publish: "true"
      site: "dev.pistonint.com"
      annotations:
        ssl-redirect: "true"
        proxy-connect-timeout: "600" #修改代理超时时间，默认是60s
        proxy-read-timeout: "600"
        proxy-send-timeout: "600"
      env:
        - name: REDIS_HOST
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_HOST

        - name: REDIS_PORT
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_PORT
        - name: REDIS_PWD
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: REDIS_PWD
        - name: MONGO_USER
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MONGO_USER_JETOUR
        - name: MONGO_PWD
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MONGO_PWD_JETOUR
        - name: MONGO_DB
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MONGO_DB_JETOUR
        - name: MONGO_AUTH_SOURCE
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MONGO_AUTH_SOURCE_JETOUR
        - name: MONGO_URI
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: MONGO_URI
    pre:
      publish: "true"
      env:
        - name: REDIS_HOST
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_HOST

        - name: REDIS_PORT
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_PORT
        - name: REDIS_PWD
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: REDIS_PWD
        - name: MONGO_USER
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MONGO_USER_JETOUR
        - name: MONGO_PWD
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MONGO_PWD_JETOUR
        - name: MONGO_DB
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MONGO_DB_JETOUR
        - name: MONGO_AUTH_SOURCE
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MONGO_AUTH_SOURCE_JETOUR
        - name: MONGO_URI
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: MONGO_URI
    prod:

pistonint-job-worker:
  title: "pistonint-job-worker"
  deploy_environment:
    dev:
      env:
        - name: REDIS_HOST
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_HOST

        - name: REDIS_PORT
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_PORT
        - name: REDIS_PWD
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: REDIS_PWD
        - name: MYSQL_URL
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: MYSQL_URL
        - name: MYSQL_DB
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MYSQL_DB_JOB_WORKER
        - name: MYSQL_USER
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MYSQL_USER_JOB_WORKER

        - name: MYSQL_PWD
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MYSQL_PWD_JOB_WORKER
        - name: KAFKA_ENDPOINT
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: KAFKA_ENDPOINT
        - name: HTTP_FILE_SVC_ENDPOINT
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: HTTP_FILE_SVC_ENDPOINT
    pre:
      env:
        - name: REDIS_HOST
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_HOST

        - name: REDIS_PORT
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_PORT
        - name: REDIS_PWD
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: REDIS_PWD
        - name: MYSQL_URL
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: MYSQL_URL
        - name: MYSQL_DB
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MYSQL_DB_JOB_WORKER
        - name: MYSQL_USER
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MYSQL_USER_JOB_WORKER

        - name: MYSQL_PWD
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MYSQL_PWD_JOB_WORKER
        - name: KAFKA_ENDPOINT
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: KAFKA_ENDPOINT
        - name: HTTP_FILE_SVC_ENDPOINT
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: HTTP_FILE_SVC_ENDPOINT
    prod:

pistonint-scheduler:
  title: "pistonint-scheduler"
  deploy_environment:
    dev:
      publish: "true"
      site: "dev.pistonint.com"
      annotations:
        ssl-redirect: "true"
        proxy-connect-timeout: "600" #修改代理超时时间，默认是60s
        proxy-read-timeout: "600"
        proxy-send-timeout: "600"
    pre:
      publish: "true"

    prod:

pistonint-cz-star-elite:
  title: "pistonint-cz-star-elite"
  deploy_environment:
    dev:
      publish: "true"
      site: "dev.pistonint.com"
      annotations:
        ssl-redirect: "true"
        proxy-connect-timeout: "600" #修改代理超时时间，默认是60s
        proxy-read-timeout: "600"
        proxy-send-timeout: "600"
      env:
        - name: REDIS_HOST
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_HOST

        - name: REDIS_PORT
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_PORT
        - name: REDIS_PWD
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: REDIS_PWD
        - name: MONGO_USER
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MONGO_USER_CZ_STAR_ELITE
        - name: MONGO_PWD
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MONGO_PWD_CZ_STAR_ELITE
        - name: MONGO_DB
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MONGO_DB_CZ_STAR_ELITE
        - name: MONGO_AUTH_SOURCE
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MONGO_AUTH_SOURCE_CZ_STAR_ELITE
        - name: MONGO_URI
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: MONGO_URI
    pre:
      publish: "true"
      env:
        - name: REDIS_HOST
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_HOST

        - name: REDIS_PORT
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_PORT
        - name: REDIS_PWD
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: REDIS_PWD
        - name: MONGO_USER
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MONGO_USER_CZ_STAR_ELITE
        - name: MONGO_PWD
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MONGO_PWD_CZ_STAR_ELITE
        - name: MONGO_DB
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MONGO_DB_CZ_STAR_ELITE
        - name: MONGO_AUTH_SOURCE
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MONGO_AUTH_SOURCE_CZ_STAR_ELITE
        - name: MONGO_URI
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: MONGO_URI
    prod:

pistonint-tco:
  title: "pistonint-tco"
  deploy_environment:
    dev:
      env:
        - name: REDIS_HOST
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_HOST

        - name: REDIS_PORT
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_PORT
        - name: REDIS_PWD
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: REDIS_PWD
        - name: MYSQL_URL
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: MYSQL_URL
        - name: MYSQL_DB
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MYSQL_DB_TCO
        - name: MYSQL_USER
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MYSQL_USER_TCO

        - name: MYSQL_PWD
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MYSQL_PWD_TCO
        - name: MONGO_USER
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MONGO_USER_TCO
        - name: MONGO_PWD
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MONGO_PWD_TCO
        - name: MONGO_DB
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MONGO_DB_TCO
        - name: MONGO_AUTH_SOURCE
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MONGO_AUTH_SOURCE_TCO
        - name: MONGO_URI
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: MONGO_URI
        - name: HTTP_FILE_SVC_ENDPOINT
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: HTTP_FILE_SVC_ENDPOINT
    pre:
      env:
        - name: REDIS_HOST
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_HOST

        - name: REDIS_PORT
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_PORT
        - name: REDIS_PWD
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: REDIS_PWD
        - name: MYSQL_URL
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: MYSQL_URL
        - name: MYSQL_DB
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MYSQL_DB_TCO
        - name: MYSQL_USER
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MYSQL_USER_TCO

        - name: MYSQL_PWD
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MYSQL_PWD_TCO
        - name: MONGO_USER
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MONGO_USER_TCO
        - name: MONGO_PWD
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MONGO_PWD_TCO
        - name: MONGO_DB
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MONGO_DB_TCO
        - name: MONGO_AUTH_SOURCE
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MONGO_AUTH_SOURCE_TCO
        - name: MONGO_URI
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: MONGO_URI
        - name: HTTP_FILE_SVC_ENDPOINT
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: HTTP_FILE_SVC_ENDPOINT
    prod:

pistonint-upms:
  title: "pistonint-upms"
  deploy_environment:
    dev:
      resources:
        requests:
          memory: 2048Mi
          cpu: 500m
        limits:
          memory: 2Gi
          cpu: 1000m
      env:
        - name: HEAP_SIZE
          value: 2048M
        - name: REDIS_HOST
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_HOST
        - name: REDIS_PORT
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_PORT
        - name: REDIS_PWD
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: REDIS_PWD
        - name: MYSQL_URL
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: MYSQL_URL_UPMS
        - name: MYSQL_DB
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MYSQL_DB_UPMS
        - name: MYSQL_USER
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MYSQL_USER_UPMS
        - name: MYSQL_PWD
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MYSQL_PWD_UPMS
        - name: KAFKA_ENDPOINT
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: KAFKA_ENDPOINT
    pre:
      env:
        - name: REDIS_HOST
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_HOST
        - name: REDIS_PORT
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_PORT
        - name: REDIS_PWD
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: REDIS_PWD
        - name: MYSQL_URL
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: MYSQL_URL_UPMS
        - name: MYSQL_DB
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MYSQL_DB_UPMS
        - name: MYSQL_USER
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MYSQL_USER_UPMS
        - name: MYSQL_PWD
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MYSQL_PWD_UPMS
        - name: KAFKA_ENDPOINT
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: KAFKA_ENDPOINT

    prod:

pistonint-ucar-data:
  title: "pistonint-ucar-data"
  deploy_environment:
    dev:
      publish: "true"
      site: "dev.pistonint.com"
      annotations:
        ssl-redirect: "true"
        proxy-connect-timeout: "600" #修改代理超时时间，默认是60s
        proxy-read-timeout: "600"
        proxy-send-timeout: "600"
      envFrom:
        - configMapRef:
            name: ucar-spring-boot-config
        - secretRef:
            name: spring-boot-secret
      env:
        - name: REDIS_HOST
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_HOST

        - name: REDIS_PORT
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_PORT
        - name: REDIS_PWD
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: REDIS_PWD
        - name: MONGO_USER_MASTER
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MONGO_USER_MASTER_UCAR_DATA
        - name: MONGO_PWD_MASTER
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MONGO_PWD_MASTER_UCAR_DATA
        - name: MONGO_DB_MASTER
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MONGO_DB_MASTER_UCAR_DATA
        - name: MONGO_AUTH_SOURCE_MASTER
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MONGO_AUTH_SOURCE_MASTER_UCAR_DATA
        - name: MONGO_USER_TARGET
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MONGO_USER_TARGET_UCAR_DATA
        - name: MONGO_PWD_TARGET
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MONGO_PWD_TARGET_UCAR_DATA
        - name: MONGO_DB_TARGET
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MONGO_DB_TARGET_UCAR_DATA
        - name: MONGO_AUTH_SOURCE_TARGET
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MONGO_AUTH_SOURCE_TARGET_UCAR_DATA
        - name: MONGO_URI
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: MONGO_URI
    pre:
      publish: "true"
      envFrom:
        - configMapRef:
            name: ucar-spring-boot-config
        - secretRef:
            name: spring-boot-secret
      env:
        - name: REDIS_HOST
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_HOST

        - name: REDIS_PORT
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_PORT
        - name: REDIS_PWD
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: REDIS_PWD
        - name: MONGO_USER_MASTER
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MONGO_USER_MASTER_UCAR_DATA
        - name: MONGO_PWD_MASTER
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MONGO_PWD_MASTER_UCAR_DATA
        - name: MONGO_DB_MASTER
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MONGO_DB_MASTER_UCAR_DATA
        - name: MONGO_AUTH_SOURCE_MASTER
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MONGO_AUTH_SOURCE_MASTER_UCAR_DATA
        - name: MONGO_USER_TARGET
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MONGO_USER_TARGET_UCAR_DATA
        - name: MONGO_PWD_TARGET
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MONGO_PWD_TARGET_UCAR_DATA
        - name: MONGO_DB_TARGET
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MONGO_DB_TARGET_UCAR_DATA
        - name: MONGO_AUTH_SOURCE_TARGET
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MONGO_AUTH_SOURCE_TARGET_UCAR_DATA
        - name: MONGO_URI
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: MONGO_URI
        - name: CHANGE_STREAM_ENABLE
          value: "true"
    prod:

pistonint-ucar-data-monitor:
  title: "pistonint-ucar-data-monitor"
  deploy_environment:
    dev:
      publish: "true"
      site: "dev.pistonint.com"
      annotations:
        ssl-redirect: "true"
        proxy-connect-timeout: "600" #修改代理超时时间，默认是60s
        proxy-read-timeout: "600"
        proxy-send-timeout: "600"
      envFrom:
        - configMapRef:
            name: ucar-spring-boot-config
        - secretRef:
            name: spring-boot-secret
      env:
        - name: REDIS_HOST
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_HOST

        - name: REDIS_PORT
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_PORT

        - name: REDIS_PWD
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: REDIS_PWD
        - name: MONGO_USER
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MONGO_USER_UCAR_DATA_MONITOR
        - name: MONGO_PWD
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MONGO_PWD_UCAR_DATA_MONITOR
        - name: MONGO_DB
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MONGO_DB_UCAR_DATA_MONITOR
        - name: MONGO_AUTH_SOURCE
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MONGO_AUTH_SOURCE_UCAR_DATA_MONITOR
        - name: MONGO_URI
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: MONGO_URI
        - name: CHANGE_STREAM_ENABLE
          value: "true"
    pre:
      envFrom:
        - configMapRef:
            name: ucar-spring-boot-config
        - secretRef:
            name: spring-boot-secret
      env:
        - name: REDIS_HOST
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_HOST

        - name: REDIS_PORT
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_PORT

        - name: REDIS_PWD
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: REDIS_PWD
        - name: MONGO_USER
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MONGO_USER_UCAR_DATA_MONITOR
        - name: MONGO_PWD
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MONGO_PWD_UCAR_DATA_MONITOR
        - name: MONGO_DB
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MONGO_DB_UCAR_DATA_MONITOR
        - name: MONGO_AUTH_SOURCE
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MONGO_AUTH_SOURCE_UCAR_DATA_MONITOR
        - name: MONGO_URI
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: MONGO_URI
        - name: CHANGE_STREAM_ENABLE
          value: "true"

    prod:

pistonint-cz-lshauto:
  title: "pistonint-cz-lshauto"
  deploy_environment:
    dev:
      env:
        - name: REDIS_HOST
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_HOST

        - name: REDIS_PORT
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_PORT

        - name: REDIS_PWD
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: REDIS_PWD
        - name: MYSQL_URL
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: MYSQL_URL

        - name: MYSQL_USER
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MYSQL_USER_CZ_LSHAUTO

        - name: MYSQL_PWD
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MYSQL_PWD_CZ_LSHAUTO
        - name: HTTP_CAR_PRICE_TRANS_SVC_ENDPOINT
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: ALGO-CARPRICETRANS

    pre:
      env:
        - name: REDIS_HOST
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_HOST

        - name: REDIS_PORT
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_PORT

        - name: REDIS_PWD
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: REDIS_PWD
        - name: MYSQL_URL
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: MYSQL_URL

        - name: MYSQL_USER
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MYSQL_USER_CZ_LSHAUTO

        - name: MYSQL_PWD
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MYSQL_PWD_CZ_LSHAUTO
        - name: HTTP_CAR_PRICE_TRANS_SVC_ENDPOINT
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: ALGO-CARPRICE-TRANS

    prod:

pistonint-cz-global-ucar:
  title: "全球车源监测"
  deploy_environment:
    dev:
      publish: "true"
      site: "dev.pistonint.com"
      annotations:
        ssl-redirect: "true"
        proxy-connect-timeout: "600" #修改代理超时时间，默认是60s
        proxy-read-timeout: "600"
        proxy-send-timeout: "600"
      env:
        - name: REDIS_HOST
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_HOST

        - name: REDIS_PORT
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_PORT

        - name: REDIS_PWD
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: REDIS_PWD
    pre:
      publish: "true"
      env:
        - name: REDIS_HOST
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_HOST

        - name: REDIS_PORT
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_PORT

        - name: REDIS_PWD
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: REDIS_PWD

    prod:

pistonint-sns:
  title: "短信服务"
  deploy_environment:
    dev:
      env:
        - name: REDIS_HOST
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_HOST

        - name: REDIS_PORT
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_PORT

        - name: REDIS_PWD
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: REDIS_PWD
        - name: MAIL_HOST
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: MAIL_HOST
        - name: MAIL_PORT
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: MAIL_PORT
        - name: MAIL_AUTH
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: MAIL_AUTH
        - name: MAIL_STARTTLS_ENABLE
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: MAIL_STARTTLS_ENABLE
        - name: MAIL_STARTTLS_REQUIRED
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: MAIL_STARTTLS_REQUIRED
        - name: MAIL_SSL_ENABLE
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: MAIL_SSL_ENABLE
        - name: MAIL_USER
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MAIL_USER
        - name: MAIL_PWD
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MAIL_PWD
    pre:
      env:
        - name: REDIS_HOST
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_HOST

        - name: REDIS_PORT
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_PORT

        - name: REDIS_PWD
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: REDIS_PWD
        - name: MAIL_HOST
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: MAIL_HOST
        - name: MAIL_PORT
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: MAIL_PORT
        - name: MAIL_AUTH
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: MAIL_AUTH
        - name: MAIL_STARTTLS_ENABLE
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: MAIL_STARTTLS_ENABLE
        - name: MAIL_STARTTLS_REQUIRED
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: MAIL_STARTTLS_REQUIRED
        - name: MAIL_SSL_ENABLE
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: MAIL_SSL_ENABLE
        - name: MAIL_USER
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MAIL_USER
        - name: MAIL_PWD
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MAIL_PWD
    prod:

pistonint-access-record:
  title: "访问日志统计"
  deploy_environment:
    dev:
      publish: "true"
      site: "dev.pistonint.com"
      annotations:
        ssl-redirect: "true"
        proxy-connect-timeout: "600" #修改代理超时时间，默认是60s
        proxy-read-timeout: "600"
        proxy-send-timeout: "600"
      env:
        - name: REDIS_HOST
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_HOST
        - name: REDIS_PORT
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_PORT
        - name: REDIS_PWD
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: REDIS_PWD
    pre:
      publish: "true"
      env:
        - name: REDIS_HOST
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_HOST
        - name: REDIS_PORT
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_PORT
        - name: REDIS_PWD
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: REDIS_PWD
    prod:

pistonint-auto-dev:
  title: "自动化开发"
  deploy_environment:
    dev:
      env:
        - name: REDIS_HOST
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_HOST
        - name: REDIS_PORT
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_PORT
        - name: REDIS_PWD
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: REDIS_PWD
        - name: MYSQL_URL
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: MYSQL_URL
        - name: MYSQL_DB
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MYSQL_DB_AUTO_DEV
        - name: MYSQL_USER
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MYSQL_USER_AUTO_DEV

        - name: MYSQL_PWD
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MYSQL_PWD_AUTO_DEV

    pre:
      env:
        - name: REDIS_HOST
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_HOST
        - name: REDIS_PORT
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_PORT
        - name: REDIS_PWD
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: REDIS_PWD
        - name: MYSQL_URL
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: MYSQL_URL
        - name: MYSQL_DB
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MYSQL_DB_AUTO_DEV
        - name: MYSQL_USER
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MYSQL_USER_AUTO_DEV
        - name: MYSQL_PWD
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MYSQL_PWD_AUTO_DEV


    prod:

pistonint-etl-mgmt:
  title: "自动化开发"
  deploy_environment:
    dev:
      env:
        - name: REDIS_HOST
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_HOST

        - name: REDIS_PORT
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_PORT

        - name: REDIS_PWD
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: REDIS_PWD
        - name: MYSQL_URL
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: MYSQL_URL
        - name: MYSQL_DB
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MYSQL_DB_ETL_MGMT
        - name: MYSQL_USER
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MYSQL_USER_ETL_MGMT

        - name: MYSQL_PWD
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MYSQL_PWD_ETL_MGMT
    pre:
      env:
        - name: REDIS_HOST
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_HOST

        - name: REDIS_PORT
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_PORT
        - name: REDIS_PWD
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: REDIS_PWD
        - name: MYSQL_URL
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: MYSQL_URL
        - name: MYSQL_DB
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MYSQL_DB_ETL_MGMT
        - name: MYSQL_USER
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MYSQL_USER_ETL_MGMT
        - name: MYSQL_PWD
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MYSQL_PWD_ETL_MGMT

    prod:

pistonint-ocr:
  title: "OCR"
  deploy_environment:
    dev:
      env:
        - name: REDIS_HOST
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_HOST

        - name: REDIS_PORT
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_PORT

        - name: REDIS_PWD
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: REDIS_PWD

    pre:
      env:
        - name: REDIS_HOST
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_HOST

        - name: REDIS_PORT
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_PORT

        - name: REDIS_PWD
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: REDIS_PWD

    prod:

pistonint-vw-ai-assistant:
  title: "vw-ai-assistant"
  deploy_environment:
    dev:
      env:
        - name: REDIS_HOST
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_HOST

        - name: REDIS_PORT
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_PORT

        - name: REDIS_PWD
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: REDIS_PWD
        - name: MYSQL_URL
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: MYSQL_URL
        - name: MYSQL_DB
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MYSQL_DB_VW_AI_ASSISTANT
        - name: MYSQL_USER
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MYSQL_USER_VW_AI_ASSISTANT

        - name: MYSQL_PWD
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MYSQL_PWD_VW_AI_ASSISTANT
        - name: ALGO-VWROBOT-NLP
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: ALGO-VWROBOT-NLP
        - name: ALGO-COMMENT-CARNAME
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: ALGO-COMMENT-CARNAME

    pre:
      env:
        - name: REDIS_HOST
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_HOST

        - name: REDIS_PORT
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_PORT

        - name: REDIS_PWD
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: REDIS_PWD
        - name: MYSQL_URL
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: MYSQL_URL
        - name: MYSQL_DB
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MYSQL_DB_VW_AI_ASSISTANT
        - name: MYSQL_USER
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MYSQL_USER_VW_AI_ASSISTANT

        - name: MYSQL_PWD
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MYSQL_PWD_VW_AI_ASSISTANT
        - name: ALGO-VWROBOT-NLP
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: ALGO-VWROBOT-NLP
        - name: ALGO-COMMENT-CARNAME
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: ALGO-COMMENT-CARNAME
    prod:

pistonint-lshauto-evaluate:
  title: "lshauto-evaluate"
  deploy_environment:
    dev:
      env:
        - name: REDIS_HOST
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_HOST

        - name: REDIS_PORT
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_PORT

        - name: REDIS_PWD
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: REDIS_PWD
    pre:
      env:
        - name: REDIS_HOST
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_HOST

        - name: REDIS_PORT
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_PORT

        - name: REDIS_PWD
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: REDIS_PWD
    prod:

pistonint-dingtalk:
  title: "dingtalk"
  deploy_environment:
    dev:
      env:
        - name: REDIS_HOST
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_HOST

        - name: REDIS_PORT
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_PORT

        - name: REDIS_PWD
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: REDIS_PWD
    pre:
      env:
        - name: REDIS_HOST
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_HOST

        - name: REDIS_PORT
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_PORT

        - name: REDIS_PWD
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: REDIS_PWD
    prod:

pistonint-gzhu-data:
  title: "pistonint-gzhu-data"
  deploy_environment:
    dev:
      env:
        - name: REDIS_HOST
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_HOST
        - name: REDIS_PORT
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_PORT
        - name: REDIS_PWD
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: REDIS_PWD
        - name: MYSQL_URL
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: MYSQL_URL
        - name: MYSQL_DB
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MYSQL_DB_GZHU_DATA
        - name: MYSQL_USER
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MYSQL_USER_GZHU_DATA

        - name: MYSQL_PWD
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MYSQL_PWD_GZHU_DATA
    pre:
      env:
        - name: REDIS_HOST
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_HOST
        - name: REDIS_PORT
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_PORT
        - name: REDIS_PWD
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: REDIS_PWD
        - name: MYSQL_URL
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: MYSQL_URL
        - name: MYSQL_DB
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MYSQL_DB_GZHU_DATA
        - name: MYSQL_USER
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MYSQL_USER_GZHU_DATA

        - name: MYSQL_PWD
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MYSQL_PWD_GZHU_DATA
    prod:

pistonint-gzhu-data-mgmt:
  title: "pistonint-gzhu-data-mgmt"
  deploy_environment:
    dev:
      env:
        - name: REDIS_HOST
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_HOST
        - name: REDIS_PORT
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_PORT
        - name: REDIS_PWD
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: REDIS_PWD
        - name: MYSQL_URL
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: MYSQL_URL
        - name: MYSQL_DB
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MYSQL_DB_GZHU_DATA_MGMT
        - name: MYSQL_USER
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MYSQL_USER_GZHU_DATA_MGMT

        - name: MYSQL_PWD
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MYSQL_PWD_GZHU_DATA_MGMT
    pre:
      env:
        - name: REDIS_HOST
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_HOST
        - name: REDIS_PORT
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_PORT
        - name: REDIS_PWD
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: REDIS_PWD
        - name: MYSQL_URL
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: MYSQL_URL
        - name: MYSQL_DB
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MYSQL_DB_GZHU_DATA_MGMT
        - name: MYSQL_USER
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MYSQL_USER_GZHU_DATA_MGMT

        - name: MYSQL_PWD
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MYSQL_PWD_GZHU_DATA_MGMT
    prod:

pistonint-saicmotor-usedcar:
  title: "pistonint-saicmotor-usedcar"
  deploy_environment:
    dev:
      env:
        - name: REDIS_HOST
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_HOST
        - name: REDIS_PORT
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_PORT
        - name: REDIS_PWD
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: REDIS_PWD
        - name: MYSQL_URL
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: MYSQL_URL
        - name: MYSQL_DB
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MYSQL_DB_SAICOMOTOR-USEDCAR
        - name: MYSQL_USER
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MYSQL_USER_SAICOMOTOR-USEDCAR

        - name: MYSQL_PWD
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MYSQL_PWD_SAICOMOTOR-USEDCAR

        - name: HTTP_OPENAPI_SVC_ENDPOINT
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: HTTP_OPENAPI_SVC_ENDPOINT
        - name: HTTP_CZ_SAICMOTOR_SVC_ENDPOINT
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: HTTP_CZ_SAICMOTOR_SVC_ENDPOINT
        - name: HTTP_AUTH_LOGIN_URL
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: HTTP_AUTH_LOGIN_URL
        - name: HTTP_AUTH_LOGIN_USERNAME
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: SAICMOTOR_USEDCAR_HTTP_AUTH_LOGIN_USERNAME
        - name: HTTP_AUTH_LOGIN_PASSWORD
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: SAICMOTOR_USEDCAR_HTTP_AUTH_LOGIN_PASSWORD
        - name: HTTP_AUTH_LOGIN_BASIC_AUTHORIZATION
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: SAICMOTOR_USEDCAR_HTTP_AUTH_LOGIN_BASIC_AUTHORIZATION
        - name: HTTP_SECRET_KEY_CZ_SAICMOTOR
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: SAICMOTOR_USEDCAR_HTTP_SECRET_KEY_CZ_SAICMOTOR
    pre:
      env:
        - name: REDIS_HOST
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_HOST
        - name: REDIS_PORT
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_PORT
        - name: REDIS_PWD
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: REDIS_PWD
        - name: MYSQL_URL
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: MYSQL_URL
        - name: MYSQL_DB
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MYSQL_DB_SAICOMOTOR-USEDCAR
        - name: MYSQL_USER
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MYSQL_USER_SAICOMOTOR-USEDCAR

        - name: MYSQL_PWD
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MYSQL_PWD_SAICOMOTOR-USEDCAR

        - name: HTTP_OPENAPI_SVC_ENDPOINT
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: HTTP_OPENAPI_SVC_ENDPOINT
        - name: HTTP_CZ_SAICMOTOR_SVC_ENDPOINT
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: HTTP_CZ_SAICMOTOR_SVC_ENDPOINT
        - name: HTTP_AUTH_LOGIN_URL
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: HTTP_AUTH_LOGIN_URL
        - name: HTTP_AUTH_LOGIN_USERNAME
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: SAICMOTOR_USEDCAR_HTTP_AUTH_LOGIN_USERNAME
        - name: HTTP_AUTH_LOGIN_PASSWORD
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: SAICMOTOR_USEDCAR_HTTP_AUTH_LOGIN_PASSWORD
        - name: HTTP_AUTH_LOGIN_BASIC_AUTHORIZATION
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: SAICMOTOR_USEDCAR_HTTP_AUTH_LOGIN_BASIC_AUTHORIZATION
        - name: HTTP_SECRET_KEY_CZ_SAICMOTOR
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: SAICMOTOR_USEDCAR_HTTP_SECRET_KEY_CZ_SAICMOTOR
    prod:

pistonint-cz-saicmotor:
    title: "pistonint-cz-saicmotor"
    deploy_environment:
      dev:
        env:
          - name: REDIS_HOST
            valueFrom:
              configMapKeyRef:
                name: external-svices-config
                key: REDIS_HOST
          - name: REDIS_PORT
            valueFrom:
              configMapKeyRef:
                name: external-svices-config
                key: REDIS_PORT
          - name: REDIS_PWD
            valueFrom:
              secretKeyRef:
                name: external-svices-secret
                key: REDIS_PWD
          - name: MYSQL_URL
            valueFrom:
              configMapKeyRef:
                name: external-svices-config
                key: MYSQL_URL
          - name: MYSQL_DB
            valueFrom:
              secretKeyRef:
                name: external-svices-secret
                key: MYSQL_DB_CZ_SAICOMOTOR
          - name: MYSQL_USER
            valueFrom:
              secretKeyRef:
                name: external-svices-secret
                key: MYSQL_USER_CZ_SAICOMOTOR
          - name: MYSQL_PWD
            valueFrom:
              secretKeyRef:
                name: external-svices-secret
                key: MYSQL_PWD_CZ_SAICOMOTOR
          - name: HTTP_OPENAPI_SVC_ENDPOINT
            valueFrom:
              configMapKeyRef:
                name: external-svices-config
                key: HTTP_OPENAPI_SVC_ENDPOINT
          - name: HTTP_SAICMOTOR_USEDCAR_SVC_ENDPOINT
            valueFrom:
              configMapKeyRef:
                name: external-svices-config
                key: HTTP_SAICMOTOR_USEDCAR_SVC_ENDPOINT
          - name: PISTONINT_SCHEDULER_OPEN
            valueFrom:
              configMapKeyRef:
                name: external-svices-config
                key: PISTONINT_SCHEDULER_OPEN
          - name: SAIC_SCHEDULER_OPEN
            valueFrom:
              configMapKeyRef:
                name: external-svices-config
                key: SAIC_SCHEDULER_OPEN
          - name: HTTP_AUTH_SVC_ENDPOINT
            valueFrom:
              configMapKeyRef:
                name: spring-boot-config
                key: HTTP_AUTH_SVC_ENDPOINT
          - name: SAIC_HTTP_SVC_API_KEY
            valueFrom:
              secretKeyRef:
                name: external-svices-secret
                key: CZ_SAICMOTOR_SAIC_HTTP_SVC_API_KEY
          - name: HTTP_AUTH_LOGIN_USERNAME
            valueFrom:
              secretKeyRef:
                name: external-svices-secret
                key: CZ_SAICMOTOR_HTTP_AUTH_LOGIN_USERNAME
          - name: HTTP_AUTH_LOGIN_PASSWORD
            valueFrom:
              secretKeyRef:
                name: external-svices-secret
                key: CZ_SAICMOTOR_HTTP_AUTH_LOGIN_PASSWORD
          - name: HTTP_AUTH_LOGIN_BASIC_AUTHORIZATION
            valueFrom:
              secretKeyRef:
                name: external-svices-secret
                key: CZ_SAICMOTOR_HTTP_AUTH_LOGIN_BASIC_AUTHORIZATION
          - name: HTTP_SECRET_KEY_CZ_SAICMOTOR
            valueFrom:
              secretKeyRef:
                name: external-svices-secret
                key: CZ_SAICMOTOR_HTTP_SECRET_KEY_CZ_SAICMOTOR
  
      pre:
        env:
          - name: REDIS_HOST
            valueFrom:
              configMapKeyRef:
                name: external-svices-config
                key: REDIS_HOST
          - name: REDIS_PORT
            valueFrom:
              configMapKeyRef:
                name: external-svices-config
                key: REDIS_PORT
          - name: REDIS_PWD
            valueFrom:
              secretKeyRef:
                name: external-svices-secret
                key: REDIS_PWD
          - name: MYSQL_URL
            valueFrom:
              configMapKeyRef:
                name: external-svices-config
                key: MYSQL_URL
          - name: MYSQL_DB
            valueFrom:
              secretKeyRef:
                name: external-svices-secret
                key: MYSQL_DB_CZ_SAICOMOTOR
          - name: MYSQL_USER
            valueFrom:
              secretKeyRef:
                name: external-svices-secret
                key: MYSQL_USER_CZ_SAICOMOTOR
          - name: MYSQL_PWD
            valueFrom:
              secretKeyRef:
                name: external-svices-secret
                key: MYSQL_PWD_CZ_SAICOMOTOR
          - name: HTTP_OPENAPI_SVC_ENDPOINT
            valueFrom:
              configMapKeyRef:
                name: external-svices-config
                key: HTTP_OPENAPI_SVC_ENDPOINT
          - name: HTTP_SAICMOTOR_USEDCAR_SVC_ENDPOINT
            valueFrom:
              configMapKeyRef:
                name: external-svices-config
                key: HTTP_SAICMOTOR_USEDCAR_SVC_ENDPOINT
          - name: PISTONINT_SCHEDULER_OPEN
            valueFrom:
              configMapKeyRef:
                name: external-svices-config
                key: PISTONINT_SCHEDULER_OPEN
          - name: SAIC_SCHEDULER_OPEN
            valueFrom:
              configMapKeyRef:
                name: external-svices-config
                key: SAIC_SCHEDULER_OPEN
          - name: HTTP_AUTH_SVC_ENDPOINT
            valueFrom:
              configMapKeyRef:
                name: spring-boot-config
                key: HTTP_AUTH_SVC_ENDPOINT
          - name: SAIC_HTTP_SVC_API_KEY
            valueFrom:
              secretKeyRef:
                name: external-svices-secret
                key: CZ_SAICMOTOR_SAIC_HTTP_SVC_API_KEY
          - name: HTTP_AUTH_LOGIN_USERNAME
            valueFrom:
              secretKeyRef:
                name: external-svices-secret
                key: CZ_SAICMOTOR_HTTP_AUTH_LOGIN_USERNAME
          - name: HTTP_AUTH_LOGIN_PASSWORD
            valueFrom:
              secretKeyRef:
                name: external-svices-secret
                key: CZ_SAICMOTOR_HTTP_AUTH_LOGIN_PASSWORD
          - name: HTTP_AUTH_LOGIN_BASIC_AUTHORIZATION
            valueFrom:
              secretKeyRef:
                name: external-svices-secret
                key: CZ_SAICMOTOR_HTTP_AUTH_LOGIN_BASIC_AUTHORIZATION
          - name: HTTP_SECRET_KEY_CZ_SAICMOTOR
            valueFrom:
              secretKeyRef:
                name: external-svices-secret
                key: CZ_SAICMOTOR_HTTP_SECRET_KEY_CZ_SAICMOTOR
      prod:

pistonint-cz-audi:
  title: "pistonint-cz-audi"
  deploy_environment:
    dev:
      env:
        - name: REDIS_HOST
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_HOST
        - name: REDIS_PORT
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_PORT
        - name: REDIS_PWD
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: REDIS_PWD
        - name: MONGO_USER
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MONGO_USER_CZ_AUDI
        - name: MONGO_PWD
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MONGO_PWD_CZ_AUDI
        - name: MONGO_DB
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MONGO_DB_CZ_AUDI
        - name: MONGO_URI
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: MONGO_URI
    pre:
      env:
        - name: REDIS_HOST
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_HOST
        - name: REDIS_PORT
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: REDIS_PORT
        - name: REDIS_PWD
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: REDIS_PWD
        - name: MONGO_USER
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MONGO_USER_CZ_AUDI
        - name: MONGO_PWD
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MONGO_PWD_CZ_AUDI
        - name: MONGO_DB
          valueFrom:
            secretKeyRef:
              name: external-svices-secret
              key: MONGO_DB_CZ_AUDI
        - name: MONGO_URI
          valueFrom:
            configMapKeyRef:
              name: external-svices-config
              key: MONGO_URI
    prod:
